import{r as _,g as hr,o as Z,b as Qe,j as i,c as Ct}from"./index-tczcSmrJ.js";import{_ as Xe}from"./index-CrK4NdKt.js";import{f as gr,g as mr}from"./index-tM2hi5UH.js";var yr={BASE_URL:"https://AlexSanchezrl.github.io/health_and_life",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ct=e=>{let t;const r=new Set,n=(d,h)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const f=t;t=h??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(y=>y(t,f))}},s=()=>t,u={setState:n,getState:s,getInitialState:()=>l,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(yr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(n,s,u);return u},vr=e=>e?ct(e):ct;var Nt={exports:{}},_t={},It={exports:{}},At={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=_;function xr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:xr,wr=J.useState,Sr=J.useEffect,$r=J.useLayoutEffect,jr=J.useDebugValue;function Er(e,t){var r=t(),n=wr({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return $r(function(){s.value=r,s.getSnapshot=t,Le(s)&&o({inst:s})},[e,r,t]),Sr(function(){return Le(s)&&o({inst:s}),e(function(){Le(s)&&o({inst:s})})},[e]),jr(r),r}function Le(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!br(e,r)}catch{return!0}}function kr(e,t){return t()}var Cr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kr:Er;At.useSyncExternalStore=J.useSyncExternalStore!==void 0?J.useSyncExternalStore:Cr;It.exports=At;var Nr=It.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=_,_r=Nr;function Ir(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ar=typeof Object.is=="function"?Object.is:Ir,Rr=_r.useSyncExternalStore,Pr=Ne.useRef,Or=Ne.useEffect,Dr=Ne.useMemo,Mr=Ne.useDebugValue;_t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var o=Pr(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Dr(function(){function u(f){if(!l){if(l=!0,d=f,f=n(f),s!==void 0&&a.hasValue){var y=a.value;if(s(y,f))return h=y}return h=f}if(y=h,Ar(d,f))return y;var w=n(f);return s!==void 0&&s(y,w)?y:(d=f,h=w)}var l=!1,d,h,g=r===void 0?null:r;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,r,n,s]);var c=Rr(e,o[0],o[1]);return Or(function(){a.hasValue=!0,a.value=c},[c]),Mr(c),c};Nt.exports=_t;var Tr=Nt.exports;const Lr=hr(Tr);var Rt={BASE_URL:"https://AlexSanchezrl.github.io/health_and_life",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:zr}=Z,{useSyncExternalStoreWithSelector:Fr}=Lr;let ut=!1;const Br=e=>e;function Gr(e,t=Br,r){(Rt?"production":void 0)!=="production"&&r&&!ut&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ut=!0);const n=Fr(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return zr(n),n}const lt=e=>{(Rt?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vr(e):e,r=(n,s)=>Gr(t,n,s);return Object.assign(r,t),r},Wr=e=>e?lt(e):lt,z=Wr(e=>({selectedConversation:null,setSelectedConversation:t=>e({selectedConversation:t}),messages:[],setMessages:t=>e({messages:t})}));function Yr(){const[e,t]=_.useState(!1),{setMessages:r,messages:n,selectedConversation:s}=z();return _.useEffect(()=>{const o=async()=>{t(!0);try{const a=await Qe.get(`http://localhost:8000/message/show/${s==null?void 0:s._id}`,{withCredentials:!0});r(a.data)}catch{Xe.error("error")}finally{t(!1)}};s!=null&&s._id&&o()},[s==null?void 0:s._id,r]),{messages:n,loading:e}}function Vr(e){const t=new Date(e),r=ft(t.getHours()),n=ft(t.getMinutes());return`${r}:${n}`}function ft(e){return e.toString().padStart(2,"0")}const Ur=({message:e,userId:t})=>{var l;const{selectedConversation:r}=z(),n=(e==null?void 0:e.senderId)===t,s=n?"bg-[#bc4749]":"bg-[#015276]",o=n?"Yo":(l=r==null?void 0:r.name)==null?void 0:l.charAt(0),a=n?"chat-end":"chat-start",c=n?"bg-[#bc4749]":"bg-[#015276]",u=Vr((e==null?void 0:e.createdAt)??"");return i.jsxs("div",{className:`chat ${a}`,children:[i.jsx("div",{className:"chat-image avatar",children:i.jsx("div",{className:`w-10 p-1 text-center text-xl text-white font-bold rounded-full ${c}`,children:o})}),i.jsx("div",{className:`chat-bubble text-white ${s}`,children:e==null?void 0:e.message}),i.jsx("div",{className:"chat-footer opacity-50 text-xs flex gap-1 items-center",children:u})]})},qr=()=>i.jsxs("div",{className:" space-y-5",children:[i.jsxs("div",{className:"flex gap-3 items-center",children:[i.jsx("div",{className:"skeleton w-10 h-10 rounded-full shrink-0"}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("div",{className:"skeleton h-4 w-40"}),i.jsx("div",{className:"skeleton h-4 w-40"})]})]}),i.jsxs("div",{className:"flex gap-3 items-center justify-end",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("div",{className:"skeleton h-4 w-40"}),i.jsx("div",{className:"skeleton h-4 w-40"})]}),i.jsx("div",{className:"skeleton w-10 h-10 rounded-full shrink-0"})]}),i.jsxs("div",{className:"flex gap-3 items-center",children:[i.jsx("div",{className:"skeleton w-10 h-10 rounded-full shrink-0"}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("div",{className:"skeleton h-4 w-40"}),i.jsx("div",{className:"skeleton h-4 w-40"})]})]})]});function Hr(){const{socketIo:e}=Ct(),{messages:t,setMessages:r}=z();_.useEffect(()=>{if(!e)return;const n=s=>{t&&r([...t,s])};return e.on("newMessage",n),()=>{e.off("newMessage",n)}},[e,r,t])}function Kr({userId:e}){const{loading:t,messages:r}=Yr(),{selectedConversation:n}=z();Hr();const s=_.useRef(null);_.useEffect(()=>{var a;(a=s.current)==null||a.scrollIntoView({behavior:"smooth"})},[r]);const o=r==null?void 0:r.map((a,c)=>i.jsx(Ur,{userId:e,message:a},c));return i.jsxs("div",{className:"px-4 flex-1 overflow-auto",children:[t?i.jsx(qr,{}):i.jsxs(i.Fragment,{children:[o,i.jsx("div",{ref:s})]}),!t&&(o==null?void 0:o.length)===0&&i.jsxs("span",{className:"text-lg",children:["Text to ",i.jsx("span",{className:"font-bold",children:n==null?void 0:n.name})," to start a new conversation!"]})]})}var I=function(){return I=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},I.apply(this,arguments)};function le(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var b="-ms-",ue="-moz-",v="-webkit-",Pt="comm",_e="rule",et="decl",Zr="@import",Ot="@keyframes",Jr="@layer",Dt=Math.abs,tt=String.fromCharCode,Ye=Object.assign;function Qr(e,t){return N(e,0)^45?(((t<<2^N(e,0))<<2^N(e,1))<<2^N(e,2))<<2^N(e,3):0}function Mt(e){return e.trim()}function L(e,t){return(e=t.exec(e))?e[0]:e}function p(e,t,r){return e.replace(t,r)}function be(e,t,r){return e.indexOf(t,r)}function N(e,t){return e.charCodeAt(t)|0}function Q(e,t,r){return e.slice(t,r)}function M(e){return e.length}function Tt(e){return e.length}function ce(e,t){return t.push(e),e}function Xr(e,t){return e.map(t).join("")}function dt(e,t){return e.filter(function(r){return!L(r,t)})}var Ie=1,X=1,Lt=0,P=0,k=0,ne="";function Ae(e,t,r,n,s,o,a,c){return{value:e,root:t,parent:r,type:n,props:s,children:o,line:Ie,column:X,length:a,return:"",siblings:c}}function G(e,t){return Ye(Ae("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function H(e){for(;e.root;)e=G(e.root,{children:[e]});ce(e,e.siblings)}function en(){return k}function tn(){return k=P>0?N(ne,--P):0,X--,k===10&&(X=1,Ie--),k}function D(){return k=P<Lt?N(ne,P++):0,X++,k===10&&(X=1,Ie++),k}function V(){return N(ne,P)}function we(){return P}function Re(e,t){return Q(ne,e,t)}function Ve(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rn(e){return Ie=X=1,Lt=M(ne=e),P=0,[]}function nn(e){return ne="",e}function ze(e){return Mt(Re(P-1,Ue(e===91?e+2:e===40?e+1:e)))}function sn(e){for(;(k=V())&&k<33;)D();return Ve(e)>2||Ve(k)>3?"":" "}function on(e,t){for(;--t&&D()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return Re(e,we()+(t<6&&V()==32&&D()==32))}function Ue(e){for(;D();)switch(k){case e:return P;case 34:case 39:e!==34&&e!==39&&Ue(k);break;case 40:e===41&&Ue(e);break;case 92:D();break}return P}function an(e,t){for(;D()&&e+k!==57;)if(e+k===84&&V()===47)break;return"/*"+Re(t,P-1)+"*"+tt(e===47?e:D())}function cn(e){for(;!Ve(V());)D();return Re(e,P)}function un(e){return nn(Se("",null,null,null,[""],e=rn(e),0,[0],e))}function Se(e,t,r,n,s,o,a,c,u){for(var l=0,d=0,h=a,g=0,f=0,y=0,w=1,A=1,E=1,$=0,S="",j=s,C=o,x=n,m=S;A;)switch(y=$,$=D()){case 40:if(y!=108&&N(m,h-1)==58){be(m+=p(ze($),"&","&\f"),"&\f",Dt(l?c[l-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:m+=ze($);break;case 9:case 10:case 13:case 32:m+=sn(y);break;case 92:m+=on(we()-1,7);continue;case 47:switch(V()){case 42:case 47:ce(ln(an(D(),we()),t,r,u),u);break;default:m+="/"}break;case 123*w:c[l++]=M(m)*E;case 125*w:case 59:case 0:switch($){case 0:case 125:A=0;case 59+d:E==-1&&(m=p(m,/\f/g,"")),f>0&&M(m)-h&&ce(f>32?ht(m+";",n,r,h-1,u):ht(p(m," ","")+";",n,r,h-2,u),u);break;case 59:m+=";";default:if(ce(x=pt(m,t,r,l,d,s,c,S,j=[],C=[],h,o),o),$===123)if(d===0)Se(m,t,x,x,j,o,h,c,C);else switch(g===99&&N(m,3)===110?100:g){case 100:case 108:case 109:case 115:Se(e,x,x,n&&ce(pt(e,x,x,0,0,s,c,S,s,j=[],h,C),C),s,C,h,c,n?j:C);break;default:Se(m,x,x,x,[""],C,0,c,C)}}l=d=f=0,w=E=1,S=m="",h=a;break;case 58:h=1+M(m),f=y;default:if(w<1){if($==123)--w;else if($==125&&w++==0&&tn()==125)continue}switch(m+=tt($),$*w){case 38:E=d>0?1:(m+="\f",-1);break;case 44:c[l++]=(M(m)-1)*E,E=1;break;case 64:V()===45&&(m+=ze(D())),g=V(),d=h=M(S=m+=cn(we())),$++;break;case 45:y===45&&M(m)==2&&(w=0)}}return o}function pt(e,t,r,n,s,o,a,c,u,l,d,h){for(var g=s-1,f=s===0?o:[""],y=Tt(f),w=0,A=0,E=0;w<n;++w)for(var $=0,S=Q(e,g+1,g=Dt(A=a[w])),j=e;$<y;++$)(j=Mt(A>0?f[$]+" "+S:p(S,/&\f/g,f[$])))&&(u[E++]=j);return Ae(e,t,r,s===0?_e:c,u,l,d,h)}function ln(e,t,r,n){return Ae(e,t,r,Pt,tt(en()),Q(e,2,-2),0,n)}function ht(e,t,r,n,s){return Ae(e,t,r,et,Q(e,0,n),Q(e,n+1,-1),n,s)}function zt(e,t,r){switch(Qr(e,t)){case 5103:return v+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return v+e+e;case 4789:return ue+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return v+e+ue+e+b+e+e;case 5936:switch(N(e,t+11)){case 114:return v+e+b+p(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return v+e+b+p(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return v+e+b+p(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return v+e+b+e+e;case 6165:return v+e+b+"flex-"+e+e;case 5187:return v+e+p(e,/(\w+).+(:[^]+)/,v+"box-$1$2"+b+"flex-$1$2")+e;case 5443:return v+e+b+"flex-item-"+p(e,/flex-|-self/g,"")+(L(e,/flex-|baseline/)?"":b+"grid-row-"+p(e,/flex-|-self/g,""))+e;case 4675:return v+e+b+"flex-line-pack"+p(e,/align-content|flex-|-self/g,"")+e;case 5548:return v+e+b+p(e,"shrink","negative")+e;case 5292:return v+e+b+p(e,"basis","preferred-size")+e;case 6060:return v+"box-"+p(e,"-grow","")+v+e+b+p(e,"grow","positive")+e;case 4554:return v+p(e,/([^-])(transform)/g,"$1"+v+"$2")+e;case 6187:return p(p(p(e,/(zoom-|grab)/,v+"$1"),/(image-set)/,v+"$1"),e,"")+e;case 5495:case 3959:return p(e,/(image-set\([^]*)/,v+"$1$`$1");case 4968:return p(p(e,/(.+:)(flex-)?(.*)/,v+"box-pack:$3"+b+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+v+e+e;case 4200:if(!L(e,/flex-|baseline/))return b+"grid-column-align"+Q(e,t)+e;break;case 2592:case 3360:return b+p(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,s){return t=s,L(n.props,/grid-\w+-end/)})?~be(e+(r=r[t].value),"span",0)?e:b+p(e,"-start","")+e+b+"grid-row-span:"+(~be(r,"span",0)?L(r,/\d+/):+L(r,/\d+/)-+L(e,/\d+/))+";":b+p(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return L(n.props,/grid-\w+-start/)})?e:b+p(p(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return p(e,/(.+)-inline(.+)/,v+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(M(e)-1-t>6)switch(N(e,t+1)){case 109:if(N(e,t+4)!==45)break;case 102:return p(e,/(.+:)(.+)-([^]+)/,"$1"+v+"$2-$3$1"+ue+(N(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~be(e,"stretch",0)?zt(p(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return p(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,o,a,c,u,l){return b+s+":"+o+l+(a?b+s+"-span:"+(c?u:+u-+o)+l:"")+e});case 4949:if(N(e,t+6)===121)return p(e,":",":"+v)+e;break;case 6444:switch(N(e,N(e,14)===45?18:11)){case 120:return p(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+v+(N(e,14)===45?"inline-":"")+"box$3$1"+v+"$2$3$1"+b+"$2box$3")+e;case 100:return p(e,":",":"+b)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return p(e,"scroll-","scroll-snap-")+e}return e}function Ee(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function fn(e,t,r,n){switch(e.type){case Jr:if(e.children.length)break;case Zr:case et:return e.return=e.return||e.value;case Pt:return"";case Ot:return e.return=e.value+"{"+Ee(e.children,n)+"}";case _e:if(!M(e.value=e.props.join(",")))return""}return M(r=Ee(e.children,n))?e.return=e.value+"{"+r+"}":""}function dn(e){var t=Tt(e);return function(r,n,s,o){for(var a="",c=0;c<t;c++)a+=e[c](r,n,s,o)||"";return a}}function pn(e){return function(t){t.root||(t=t.return)&&e(t)}}function hn(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case et:e.return=zt(e.value,e.length,r);return;case Ot:return Ee([G(e,{value:p(e.value,"@","@"+v)})],n);case _e:if(e.length)return Xr(r=e.props,function(s){switch(L(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":H(G(e,{props:[p(s,/:(read-\w+)/,":"+ue+"$1")]})),H(G(e,{props:[s]})),Ye(e,{props:dt(r,n)});break;case"::placeholder":H(G(e,{props:[p(s,/:(plac\w+)/,":"+v+"input-$1")]})),H(G(e,{props:[p(s,/:(plac\w+)/,":"+ue+"$1")]})),H(G(e,{props:[p(s,/:(plac\w+)/,b+"input-$1")]})),H(G(e,{props:[s]})),Ye(e,{props:dt(r,n)});break}return""})}}var gn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},R={},ee=typeof process<"u"&&R!==void 0&&(R.REACT_APP_SC_ATTR||R.SC_ATTR)||"data-styled",Ft="active",Bt="data-styled-version",Pe="6.1.12",rt=`/*!sc*/
`,ke=typeof window<"u"&&"HTMLElement"in window,mn=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&R!==void 0&&R.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&R.REACT_APP_SC_DISABLE_SPEEDY!==""?R.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&R.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&R!==void 0&&R.SC_DISABLE_SPEEDY!==void 0&&R.SC_DISABLE_SPEEDY!==""&&R.SC_DISABLE_SPEEDY!=="false"&&R.SC_DISABLE_SPEEDY),Oe=Object.freeze([]),te=Object.freeze({});function yn(e,t,r){return r===void 0&&(r=te),e.theme!==r.theme&&e.theme||t||r.theme}var Gt=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),vn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xn=/(^-|-$)/g;function gt(e){return e.replace(vn,"-").replace(xn,"")}var bn=/(a)(d)/gi,ve=52,mt=function(e){return String.fromCharCode(e+(e>25?39:97))};function qe(e){var t,r="";for(t=Math.abs(e);t>ve;t=t/ve|0)r=mt(t%ve)+r;return(mt(t%ve)+r).replace(bn,"$1-$2")}var Fe,Wt=5381,K=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Yt=function(e){return K(Wt,e)};function Vt(e){return qe(Yt(e)>>>0)}function wn(e){return e.displayName||e.name||"Component"}function Be(e){return typeof e=="string"&&!0}var Ut=typeof Symbol=="function"&&Symbol.for,qt=Ut?Symbol.for("react.memo"):60115,Sn=Ut?Symbol.for("react.forward_ref"):60112,$n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ht={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},En=((Fe={})[Sn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fe[qt]=Ht,Fe);function yt(e){return("type"in(t=e)&&t.type.$$typeof)===qt?Ht:"$$typeof"in e?En[e.$$typeof]:$n;var t}var kn=Object.defineProperty,Cn=Object.getOwnPropertyNames,vt=Object.getOwnPropertySymbols,Nn=Object.getOwnPropertyDescriptor,_n=Object.getPrototypeOf,xt=Object.prototype;function Kt(e,t,r){if(typeof t!="string"){if(xt){var n=_n(t);n&&n!==xt&&Kt(e,n,r)}var s=Cn(t);vt&&(s=s.concat(vt(t)));for(var o=yt(e),a=yt(t),c=0;c<s.length;++c){var u=s[c];if(!(u in jn||r&&r[u]||a&&u in a||o&&u in o)){var l=Nn(t,u);try{kn(e,u,l)}catch{}}}}return e}function re(e){return typeof e=="function"}function nt(e){return typeof e=="object"&&"styledComponentId"in e}function Y(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function He(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function fe(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Ke(e,t,r){if(r===void 0&&(r=!1),!r&&!fe(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=Ke(e[n],t[n]);else if(fe(t))for(var n in t)e[n]=Ke(e[n],t[n]);return e}function st(e,t){Object.defineProperty(e,"toString",{value:t})}function de(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var In=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,o=s;t>=o;)if((o<<=1)<0)throw de(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(t+1),u=(a=0,r.length);a<u;a++)this.tag.insertRule(c,r[a])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),s=n+r;this.groupSizes[t]=0;for(var o=n;o<s;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n,a=s;a<o;a++)r+="".concat(this.tag.getRule(a)).concat(rt);return r},e}(),$e=new Map,Ce=new Map,je=1,xe=function(e){if($e.has(e))return $e.get(e);for(;Ce.has(je);)je++;var t=je++;return $e.set(e,t),Ce.set(t,e),t},An=function(e,t){je=t+1,$e.set(e,t),Ce.set(t,e)},Rn="style[".concat(ee,"][").concat(Bt,'="').concat(Pe,'"]'),Pn=new RegExp("^".concat(ee,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),On=function(e,t,r){for(var n,s=r.split(","),o=0,a=s.length;o<a;o++)(n=s[o])&&e.registerName(t,n)},Dn=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(rt),s=[],o=0,a=n.length;o<a;o++){var c=n[o].trim();if(c){var u=c.match(Pn);if(u){var l=0|parseInt(u[1],10),d=u[2];l!==0&&(An(d,l),On(e,d,u[3]),e.getTag().insertRules(l,s)),s.length=0}else s.push(c)}}},bt=function(e){for(var t=document.querySelectorAll(Rn),r=0,n=t.length;r<n;r++){var s=t[r];s&&s.getAttribute(ee)!==Ft&&(Dn(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function Mn(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Zt=function(e){var t=document.head,r=e||t,n=document.createElement("style"),s=function(c){var u=Array.from(c.querySelectorAll("style[".concat(ee,"]")));return u[u.length-1]}(r),o=s!==void 0?s.nextSibling:null;n.setAttribute(ee,Ft),n.setAttribute(Bt,Pe);var a=Mn();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},Tn=function(){function e(t){this.element=Zt(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,s=0,o=n.length;s<o;s++){var a=n[s];if(a.ownerNode===r)return a}throw de(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),Ln=function(){function e(t){this.element=Zt(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),zn=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),wt=ke,Fn={isServer:!ke,useCSSOMInjection:!mn},Jt=function(){function e(t,r,n){t===void 0&&(t=te),r===void 0&&(r={});var s=this;this.options=I(I({},Fn),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&ke&&wt&&(wt=!1,bt(this)),st(this,function(){return function(o){for(var a=o.getTag(),c=a.length,u="",l=function(h){var g=function(E){return Ce.get(E)}(h);if(g===void 0)return"continue";var f=o.names.get(g),y=a.getGroup(h);if(f===void 0||!f.size||y.length===0)return"continue";var w="".concat(ee,".g").concat(h,'[id="').concat(g,'"]'),A="";f!==void 0&&f.forEach(function(E){E.length>0&&(A+="".concat(E,","))}),u+="".concat(y).concat(w,'{content:"').concat(A,'"}').concat(rt)},d=0;d<c;d++)l(d);return u}(s)})}return e.registerId=function(t){return xe(t)},e.prototype.rehydrate=function(){!this.server&&ke&&bt(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(I(I({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var n=r.useCSSOMInjection,s=r.target;return r.isServer?new zn(s):n?new Tn(s):new Ln(s)}(this.options),new In(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(xe(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(xe(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(xe(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Bn=/&/g,Gn=/^\s*\/\/.*$/gm;function Qt(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qt(r.children,t)),r})}function Wn(e){var t,r,n,s=e===void 0?te:e,o=s.options,a=o===void 0?te:o,c=s.plugins,u=c===void 0?Oe:c,l=function(g,f,y){return y.startsWith(r)&&y.endsWith(r)&&y.replaceAll(r,"").length>0?".".concat(t):g},d=u.slice();d.push(function(g){g.type===_e&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(Bn,r).replace(n,l))}),a.prefix&&d.push(hn),d.push(fn);var h=function(g,f,y,w){f===void 0&&(f=""),y===void 0&&(y=""),w===void 0&&(w="&"),t=w,r=f,n=new RegExp("\\".concat(r,"\\b"),"g");var A=g.replace(Gn,""),E=un(y||f?"".concat(y," ").concat(f," { ").concat(A," }"):A);a.namespace&&(E=Qt(E,a.namespace));var $=[];return Ee(E,dn(d.concat(pn(function(S){return $.push(S)})))),$};return h.hash=u.length?u.reduce(function(g,f){return f.name||de(15),K(g,f.name)},Wt).toString():"",h}var Yn=new Jt,Ze=Wn(),Xt=Z.createContext({shouldForwardProp:void 0,styleSheet:Yn,stylis:Ze});Xt.Consumer;Z.createContext(void 0);function St(){return _.useContext(Xt)}var er=function(){function e(t,r){var n=this;this.inject=function(s,o){o===void 0&&(o=Ze);var a=n.name+o.hash;s.hasNameForId(n.id,a)||s.insertRules(n.id,a,o(n.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,st(this,function(){throw de(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Ze),this.name+t.hash},e}(),Vn=function(e){return e>="A"&&e<="Z"};function $t(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;Vn(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var tr=function(e){return e==null||e===!1||e===""},rr=function(e){var t,r,n=[];for(var s in e){var o=e[s];e.hasOwnProperty(s)&&!tr(o)&&(Array.isArray(o)&&o.isCss||re(o)?n.push("".concat($t(s),":"),o,";"):fe(o)?n.push.apply(n,le(le(["".concat(s," {")],rr(o),!1),["}"],!1)):n.push("".concat($t(s),": ").concat((t=s,(r=o)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in gn||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function U(e,t,r,n){if(tr(e))return[];if(nt(e))return[".".concat(e.styledComponentId)];if(re(e)){if(!re(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var s=e(t);return U(s,t,r,n)}var o;return e instanceof er?r?(e.inject(r,n),[e.getName(n)]):[e]:fe(e)?rr(e):Array.isArray(e)?Array.prototype.concat.apply(Oe,e.map(function(a){return U(a,t,r,n)})):[e.toString()]}function Un(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(re(r)&&!nt(r))return!1}return!0}var qn=Yt(Pe),Hn=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Un(t),this.componentId=r,this.baseHash=K(qn,r),this.baseStyle=n,Jt.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=Y(s,this.staticRulesId);else{var o=He(U(this.rules,t,r,n)),a=qe(K(this.baseHash,o)>>>0);if(!r.hasNameForId(this.componentId,a)){var c=n(o,".".concat(a),void 0,this.componentId);r.insertRules(this.componentId,a,c)}s=Y(s,a),this.staticRulesId=a}else{for(var u=K(this.baseHash,n.hash),l="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")l+=h;else if(h){var g=He(U(h,t,r,n));u=K(u,g+d),l+=g}}if(l){var f=qe(u>>>0);r.hasNameForId(this.componentId,f)||r.insertRules(this.componentId,f,n(l,".".concat(f),void 0,this.componentId)),s=Y(s,f)}}return s},e}(),nr=Z.createContext(void 0);nr.Consumer;var Ge={};function Kn(e,t,r){var n=nt(e),s=e,o=!Be(e),a=t.attrs,c=a===void 0?Oe:a,u=t.componentId,l=u===void 0?function(j,C){var x=typeof j!="string"?"sc":gt(j);Ge[x]=(Ge[x]||0)+1;var m="".concat(x,"-").concat(Vt(Pe+x+Ge[x]));return C?"".concat(C,"-").concat(m):m}(t.displayName,t.parentComponentId):u,d=t.displayName,h=d===void 0?function(j){return Be(j)?"styled.".concat(j):"Styled(".concat(wn(j),")")}(e):d,g=t.displayName&&t.componentId?"".concat(gt(t.displayName),"-").concat(t.componentId):t.componentId||l,f=n&&s.attrs?s.attrs.concat(c).filter(Boolean):c,y=t.shouldForwardProp;if(n&&s.shouldForwardProp){var w=s.shouldForwardProp;if(t.shouldForwardProp){var A=t.shouldForwardProp;y=function(j,C){return w(j,C)&&A(j,C)}}else y=w}var E=new Hn(r,g,n?s.componentStyle:void 0);function $(j,C){return function(x,m,se){var pe=x.attrs,ir=x.componentStyle,cr=x.defaultProps,ur=x.foldedComponentIds,lr=x.styledComponentId,fr=x.target,dr=Z.useContext(nr),pr=St(),De=x.shouldForwardProp||pr.shouldForwardProp,at=yn(m,dr,cr)||te,T=function(ge,ae,me){for(var ie,W=I(I({},ae),{className:void 0,theme:me}),Te=0;Te<ge.length;Te+=1){var ye=re(ie=ge[Te])?ie(W):ie;for(var B in ye)W[B]=B==="className"?Y(W[B],ye[B]):B==="style"?I(I({},W[B]),ye[B]):ye[B]}return ae.className&&(W.className=Y(W.className,ae.className)),W}(pe,m,at),he=T.as||fr,oe={};for(var F in T)T[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&T.theme===at||(F==="forwardedAs"?oe.as=T.forwardedAs:De&&!De(F,he)||(oe[F]=T[F]));var it=function(ge,ae){var me=St(),ie=ge.generateAndInjectStyles(ae,me.styleSheet,me.stylis);return ie}(ir,T),Me=Y(ur,lr);return it&&(Me+=" "+it),T.className&&(Me+=" "+T.className),oe[Be(he)&&!Gt.has(he)?"class":"className"]=Me,oe.ref=se,_.createElement(he,oe)}(S,j,C)}$.displayName=h;var S=Z.forwardRef($);return S.attrs=f,S.componentStyle=E,S.displayName=h,S.shouldForwardProp=y,S.foldedComponentIds=n?Y(s.foldedComponentIds,s.styledComponentId):"",S.styledComponentId=g,S.target=n?s.target:e,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=n?function(C){for(var x=[],m=1;m<arguments.length;m++)x[m-1]=arguments[m];for(var se=0,pe=x;se<pe.length;se++)Ke(C,pe[se],!0);return C}({},s.defaultProps,j):j}}),st(S,function(){return".".concat(S.styledComponentId)}),o&&Kt(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function jt(e,t){for(var r=[e[0]],n=0,s=t.length;n<s;n+=1)r.push(t[n],e[n+1]);return r}var Et=function(e){return Object.assign(e,{isCss:!0})};function sr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(re(e)||fe(e))return Et(U(jt(Oe,le([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?U(n):Et(U(jt(n,t)))}function Je(e,t,r){if(r===void 0&&(r=te),!t)throw de(1,t);var n=function(s){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return e(t,r,sr.apply(void 0,le([s],o,!1)))};return n.attrs=function(s){return Je(e,t,I(I({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Je(e,t,I(I({},r),s))},n}var or=function(e){return Je(Kn,e)},q=or;Gt.forEach(function(e){q[e]=or(e)});function ot(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=He(sr.apply(void 0,le([e],t,!1))),s=Vt(n);return new er(s,n)}const kt="#4fa94d",Zn={"aria-busy":!0,role:"progressbar"},Jn=q.div`
  display: ${e=>e.$visible?"flex":"none"};
`,O=242.776657104492,Qn=1.6,Xn=ot`
12.5% {
  stroke-dasharray: ${O*.14}px, ${O}px;
  stroke-dashoffset: -${O*.11}px;
}
43.75% {
  stroke-dasharray: ${O*.35}px, ${O}px;
  stroke-dashoffset: -${O*.35}px;
}
100% {
  stroke-dasharray: ${O*.01}px, ${O}px;
  stroke-dashoffset: -${O*.99}px;
}
`;q.path`
  stroke-dasharray: ${O*.01}px, ${O};
  stroke-dashoffset: 0;
  animation: ${Xn} ${Qn}s linear infinite;
`;const We=20,es=e=>["M"+e+" 0c0-9.94-8.06",e,e,e].join("-"),ts=(e,t,r)=>{const n=Math.max(e,t),s=-r-n/2+1,o=r*2+n;return[s,s,o,o].join(" ")},rs=({height:e=80,width:t=80,color:r=kt,secondaryColor:n=kt,ariaLabel:s="oval-loading",wrapperStyle:o,wrapperClass:a,visible:c=!0,strokeWidth:u=2,strokeWidthSecondary:l})=>i.jsx(Jn,{style:o,$visible:c,className:a,"data-testid":"oval-loading","aria-label":s,...Zn,children:i.jsx("svg",{width:t,height:e,viewBox:ts(Number(u),Number(l||u),We),xmlns:"http://www.w3.org/2000/svg",stroke:r,"data-testid":"oval-svg",children:i.jsx("g",{fill:"none",fillRule:"evenodd",children:i.jsxs("g",{transform:"translate(1 1)",strokeWidth:Number(l||u),"data-testid":"oval-secondary-group",children:[i.jsx("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:We,stroke:n,strokeWidth:u}),i.jsx("path",{d:es(We),children:i.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})}),ns=ot`
to {
   transform: rotate(360deg);
 }
`;q.svg`
  animation: ${ns} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;q.polyline`
  stroke-width: ${e=>e.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const ss=ot`
to {
   stroke-dashoffset: 136;
 }
`;q.polygon`
  stroke-dasharray: 17;
  animation: ${ss} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;q.svg`
  transform-origin: 50% 65%;
`;function os({size:e}){return i.jsx(rs,{visible:!0,height:`${e}`,width:`${e}`,color:"#4fa94d",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})}function as(){const[e,t]=_.useState(!1),{setMessages:r,messages:n}=z();return{loading:e,sendMessage:async(o,a)=>{t(!0);try{const c=await Qe.post(`http://localhost:8000/message/send/${o}`,{message:a},{withCredentials:!0});if(!c.data)return;r([...n||[],c.data])}catch{Xe.error("there was an error")}finally{t(!1)}}}}function is(){const[e,t]=_.useState(""),{selectedConversation:r}=z(),{loading:n,sendMessage:s}=as(),o=async a=>{var c;a.preventDefault();try{if(!(r!=null&&r._id))return null;await s(r==null?void 0:r._id,e),t(""),(c=document.getElementById("form-chat"))==null||c.reset()}catch(u){console.log(u)}};return i.jsx("form",{id:"form-chat",onSubmit:o,className:"px-4 my-3",children:i.jsxs("div",{className:"flex items-center w-full border bg-gray-900 border-gray-800 text-white rounded-lg  p-2.5",children:[i.jsx("input",{onChange:a=>t(a.target.value),type:"text",className:"text-lg block bg-transparent w-full outline-none ",placeholder:"Type your message"}),n?i.jsx(os,{size:"30"}):i.jsx("button",{type:"submit",className:"text-xl",children:i.jsx(gr,{})})]})})}function cs({userId:e}){const{selectedConversation:t,setSelectedConversation:r}=z();return _.useEffect(()=>()=>r(null),[r]),i.jsx("div",{className:`md:min-w-[600px] flex flex-col h-[600px] shadow-md shadow-slate-600\r
    rounded-lg border border-gray-200`,children:t?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`flex gap-x-2 bg-blue-200 px-4 py-2 mb-2 \r
            rounded-t-lg border-b border-gray-500`,children:[i.jsx("span",{className:"text-lg",children:"To:"}),i.jsx("span",{className:"text-lg font-extrabold",children:t.name})]}),i.jsx(Kr,{userId:e}),i.jsx(is,{})]}):i.jsx("div",{className:"chat-bg h-full rounded-lg"})})}function ar(){const[e,t]=_.useState(!1),[r,n]=_.useState(null);return _.useEffect(()=>{(async()=>{t(!0);try{const o=await Qe.get("http://localhost:8000/user/showAll",{withCredentials:!0});if(o.status!==200||!o.data)return console.log("Failed to fetch conversations");n(o.data)}catch{Xe.error("error")}finally{t(!1)}})()},[]),{loading:e,conversations:r}}function us(){const[e,t]=_.useState(""),{setSelectedConversation:r}=z(),{conversations:n}=ar(),s=a=>{var u;if(a.preventDefault(),!e)return;const c=n==null?void 0:n.find(l=>l.name.toLowerCase().includes(e.toLocaleLowerCase()));c?(r(c),t(""),(u=document.getElementById("form-conversations"))==null||u.reset()):console.log("there is no user")},o=a=>{const c=n==null?void 0:n.find(u=>u.name.toLowerCase().includes(a.toLocaleLowerCase()));c&&r(c)};return i.jsxs("form",{id:"form-conversations",onSubmit:s,className:"flex items-center w-full border bg-gray-900 border-gray-800 text-white p-2.5 mt-5",children:[i.jsx("input",{onChange:a=>{t(a.target.value),o(a.target.value)},type:"text",placeholder:"Type here",className:"text-lg block bg-transparent w-full outline-none"}),i.jsx("button",{type:"submit",children:i.jsx(mr,{})})]})}const ls=({conversation:e})=>{var a;const{selectedConversation:t,setSelectedConversation:r}=z(),n=(t==null?void 0:t._id)===e._id,{onlineUser:s}=Ct(),o=s.includes(e._id??"");return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`flex gap-2 ${n?"bg-gray-200":""} hover:bg-blue-200 rounded px-2 py-1 cursor-pointer transition-colors duration-300`,onClick:()=>r(e),children:[i.jsx("div",{className:`avatar ${o?"online":"offline"} placeholder`,children:i.jsx("div",{className:"bg-[#015276] text-neutral-content w-12 rounded-full",children:i.jsx("span",{className:"text-xl font-semibold",children:(a=e.name)==null?void 0:a.charAt(0).toUpperCase()})})}),i.jsx("div",{children:e.name})]}),i.jsx("div",{children:i.jsx("div",{className:"divider"})})]})};function fs(){const{loading:e,conversations:t}=ar(),r=t==null?void 0:t.map((n,s)=>i.jsx(ls,{conversation:n},s));return i.jsx("div",{className:"px-4 flex-1 overflow-auto",children:e?i.jsx("span",{children:"Hello"}):r})}function ds(){return i.jsxs("div",{className:`md:min-w-[200px] flex flex-col h-[600px] shadow-md shadow-slate-600\r
    rounded-xl bg-white border-2 border-gray-200 `,children:[i.jsx(us,{}),i.jsx("span",{className:"my-5 text-md font-bold px-2",children:"Your doctors chat"}),i.jsx(fs,{})]})}function ms({userId:e}){return i.jsxs("div",{className:"flex bg-gray-100 w-fit mx-auto justify-center mt-24 p-5 gap-x-5",children:[i.jsx(ds,{}),i.jsx(cs,{userId:e})]})}export{ms as default};
